<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>導航項目分配修復</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .status {
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            background: #dbeafe;
            border: 1px solid #93c5fd;
            color: #1e40af;
        }
        .error-fix {
            background: #fee2e2;
            border: 1px solid #fca5a5;
            color: #991b1b;
        }
        .success-fix {
            background: #d1fae5;
            border: 1px solid #a7f3d0;
            color: #065f46;
        }
        .nav-demo {
            border: 2px solid #e5e5e5;
            border-radius: 8px;
            padding: 16px 24px;
            margin: 20px 0;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .nav-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            align-items: center;
            gap: 20px;
        }
        .nav-section {
            padding: 15px;
            border: 1px dashed #ccc;
            border-radius: 6px;
            min-height: 60px;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
        }
        .nav-left {
            justify-content: flex-start;
            background: #f0f9ff;
        }
        .nav-center {
            justify-content: center;
            background: #fef3c7;
        }
        .nav-right {
            justify-content: flex-end;
            background: #f0fdf4;
        }
        .nav-item {
            padding: 8px 12px;
            background: #374151;
            color: white;
            border-radius: 4px;
            font-size: 12px;
            text-transform: uppercase;
            font-weight: 500;
            letter-spacing: 0.5px;
            margin: 2px;
        }
        .nav-item.left {
            background: #2563eb;
        }
        .nav-item.right {
            background: #059669;
        }
        .logo {
            background: #dc2626;
            color: white;
            padding: 12px 20px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 16px;
        }
        .action-btn {
            background: #7c3aed;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            margin: 2px;
        }
        .code-block {
            background: #1f2937;
            color: #e5e7eb;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
        }
        .highlight {
            background: #fbbf24;
            color: #92400e;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .before, .after {
            border: 2px solid #e5e5e5;
            border-radius: 8px;
            padding: 15px;
        }
        .before { border-color: #ef4444; background: #fef2f2; }
        .after { border-color: #10b981; background: #ecfdf5; }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>🔧 導航項目分配修復</h1>
        
        <div class="status error-fix">
            <strong>❌ 問題</strong>: Blog 和 About Us 跑到右欄，應該在左欄
        </div>

        <div class="status success-fix">
            <strong>✅ 修復完成</strong>: 改用智能關鍵字匹配，確保項目在正確位置
        </div>

        <h2>📊 修復前後對比</h2>
        
        <div class="comparison">
            <div class="before">
                <h3 style="color: #dc2626; margin-top: 0;">❌ 修復前（錯誤）</h3>
                <div class="nav-grid">
                    <div class="nav-section nav-left">
                        <div class="nav-item left">首頁</div>
                        <div class="nav-item left">商品</div>
                    </div>
                    <div class="nav-section nav-center">
                        <div class="logo">LOGO</div>
                    </div>
                    <div class="nav-section nav-right">
                        <div class="nav-item right">Blog</div>
                        <div class="nav-item right">About Us</div>
                        <div class="action-btn">帳戶</div>
                        <div class="action-btn">購物車</div>
                    </div>
                </div>
            </div>

            <div class="after">
                <h3 style="color: #059669; margin-top: 0;">✅ 修復後（正確）</h3>
                <div class="nav-grid">
                    <div class="nav-section nav-left">
                        <div class="nav-item left">首頁</div>
                        <div class="nav-item left">商品</div>
                        <div class="nav-item left">Blog</div>
                        <div class="nav-item left">About Us</div>
                    </div>
                    <div class="nav-section nav-center">
                        <div class="logo">LOGO</div>
                    </div>
                    <div class="nav-section nav-right">
                        <div class="nav-item right">服務</div>
                        <div class="nav-item right">聯絡</div>
                        <div class="action-btn">帳戶</div>
                        <div class="action-btn">購物車</div>
                    </div>
                </div>
            </div>
        </div>

        <h2>🔧 修復方法</h2>
        
        <h3>原問題：數字分割</h3>
        <div class="code-block">
// 舊方法 - 單純按照數量分割（會造成錯誤分配）
headerData?.navigation?.slice(0, <span class="highlight">Math.ceil(length / 2)</span>)  // 左側
headerData?.navigation?.slice(<span class="highlight">Math.ceil(length / 2)</span>)     // 右側
        </div>

        <h3>新解決方案：智能關鍵字匹配</h3>
        <div class="code-block">
// 新方法 - 根據內容智能分配
const <span class="highlight">leftSideItems</span> = ['首頁', 'home', '商品', 'products', 'blog', 'about', '關於', '部落格'];
const <span class="highlight">rightSideItems</span> = ['服務', 'service', 'contact', '聯絡', '幫助', 'help'];

// 左側：包含左側關鍵字的項目
headerData?.navigation?.filter(item => 
  leftSideItems.some(keyword => 
    item.name.toLowerCase().includes(keyword.toLowerCase())
  )
)

// 右側：不在左側列表中的其他項目  
headerData?.navigation?.filter(item => !isLeftSideItem)
        </div>

        <h2>📋 分配規則</h2>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
            <div style="background: #f0f9ff; padding: 15px; border-radius: 8px;">
                <h4 style="color: #2563eb; margin-top: 0;">🔵 左側項目關鍵字</h4>
                <ul style="margin: 0; padding-left: 20px;">
                    <li>首頁 / Home</li>
                    <li>商品 / Products</li>
                    <li>Blog / 部落格</li>
                    <li>About / 關於</li>
                    <li>文章</li>
                </ul>
            </div>
            <div style="background: #f0fdf4; padding: 15px; border-radius: 8px;">
                <h4 style="color: #059669; margin-top: 0;">🟢 右側項目關鍵字</h4>
                <ul style="margin: 0; padding-left: 20px;">
                    <li>服務 / Service</li>
                    <li>聯絡 / Contact</li>
                    <li>幫助 / Help</li>
                    <li>支援 / Support</li>
                    <li>+ 功能按鈕</li>
                </ul>
            </div>
        </div>

        <h2>🧪 測試結果</h2>
        
        <div class="status success-fix">
            <strong>✅ 修復完成</strong><br>
            • Blog 和 About Us 現在會出現在左側<br>
            • 服務和聯絡相關項目在右側<br>
            • 功能按鈕（帳戶、購物車）保持在右側<br>
            • Logo 依然完美居中
        </div>

        <h2>🚀 如何測試</h2>
        <ol>
            <li>重新載入前端頁面 <code>http://localhost:8000</code></li>
            <li>檢查 Blog 是否在左側</li>
            <li>檢查 About Us 是否在左側</li>
            <li>確認 Logo 依然居中</li>
            <li>確認功能按鈕在右側</li>
        </ol>
    </div>
</body>
</html>
