<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­£åœ¨è·³è½‰åˆ°ç‰©æµé¸æ“‡é é¢...</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
        }
        .loading-container {
            text-align: center;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        h2 {
            color: #333;
            margin-bottom: 10px;
        }
        p {
            color: #666;
            margin: 5px 0;
        }
        .debug {
            margin-top: 20px;
            font-size: 12px;
            color: #999;
        }
    </style>
</head>
<body>
    <div class="loading-container">
        <div class="spinner"></div>
        <h2>æ­£åœ¨è·³è½‰åˆ°ç‰©æµé¸æ“‡é é¢</h2>
        <p>è«‹ç¨å€™ï¼Œç³»çµ±æ­£åœ¨ç‚ºæ‚¨æº–å‚™ç‰©æµé¸æ“‡ä»‹é¢...</p>
        
        <form id="ecpayForm" method="POST" action="https://logistics-stage.ecpay.com.tw/Express/RedirectToLogisticsSelection" accept-charset="UTF-8">
            <input type="hidden" name="PlatformID" value="">
            <input type="hidden" name="MerchantID" value="3002607">
            <input type="hidden" name="RqHeader" value="{&quot;Timestamp&quot;:&quot;1753096721&quot;,&quot;Revision&quot;:&quot;1.0.0&quot;}">
            <input type="hidden" name="Data" value="J+4RZICRafc0qeX9gqdrlV7nv7AiixVoLlmti9IHNfdZ6exxrmWJwyx43CsBxzx/RtBuvbOZNjglsL9I6xw9u+MYDvserhIz+hb/iV+amGJPGVmhbEyzbMfwHYixrshdXVCXTuQQLViH442mNBVdhBXUNc9yni6tEIyxhRfjFEgdu3LCb3/roBcTFoVa8ovAoEl5SZ89p76I/ikKHogr/f8EBwWhw4Mx6UnOqSj1C5zA7f5b82PrOELl4VJgaEf4VKoonh/S+ub0L3ZJm1LU/pzbECCvWuYUh19wHAknUXSwqjSPfkE0BfOHO5v2LD4VIzLNuLpf8OwNbFvRZMgGlPOk95iOJyMlVjgaWAaLj80kkue2kp2x3PC45Dy+2qbYR+Ym6j76LEsT2AC/P+ZYKHg/TgAXHdw4ZxT/vLjHHKXDgJvbClU4GaScxtNJhuVZ0AgI/Dn3GMofqV4VMXrT1AcJxAVN9kKckwICSuu40rVOHtl9qaqQp8AjpkGnCS9+E40cH2muYL5al2O1D9xbMcfY5x2iQ6+J5MpCrr4+rIUcymc6aLX4LbRbma4bubCeLRdD/8YYefH27+Xd8qcr3K0xNG83P6Wqk8h8LqsgqKIQRrKEibc/wEyKZAlUn/8j">
        </form>
        
        <div class="debug">
            <p>å•†åº—ä»£è™Ÿ: 3002607</p>
            <p>å¹³å°ä»£è™Ÿ: ç„¡</p>
            <p>æ™‚é–“æˆ³: 1753096721</p>
            <p>RqHeader: {"Timestamp":"1753096721","Revision":"1.0.0"}</p>
            <p>Data é•·åº¦: 640</p>
            
            <!-- é¡¯ç¤ºå¯¦éš›å°‡è¦æäº¤çš„åƒæ•¸ -->
            <details style="margin-top: 10px;">
                <summary>é»æ“ŠæŸ¥çœ‹æäº¤åƒæ•¸è©³æƒ…</summary>
                <pre style="font-size: 10px; text-align: left; background: #f0f0f0; padding: 10px; margin: 10px 0;">
PlatformID: ""
MerchantID: "3002607"
RqHeader: {"Timestamp":"1753096721","Revision":"1.0.0"}
Data: J+4RZICRafc0qeX9gqdrlV7nv7AiixVoLlmti9IHNfdZ6exxrmWJwyx43CsBxzx/RtBuvbOZNjglsL9I6xw9u+MYDvserhIz+hb/...
                </pre>
            </details>
        </div>
    </div>

    <script>
        console.log('ğŸšš ECPay ç‰©æµé¸æ“‡è¡¨å–®åƒæ•¸:');
        console.log('PlatformID:', '');
        console.log('MerchantID:', '3002607');
        console.log('RqHeader:', '{"Timestamp":"1753096721","Revision":"1.0.0"}');
        console.log('RqHeader (escaped):', '{&quot;Timestamp&quot;:&quot;1753096721&quot;,&quot;Revision&quot;:&quot;1.0.0&quot;}');
        console.log('Data length:', 640);
        console.log('Target URL:', 'https://logistics-stage.ecpay.com.tw/Express/RedirectToLogisticsSelection');
        
        // æª¢æŸ¥è¡¨å–®å…ƒç´ å€¼
        const form = document.getElementById('ecpayForm');
        const formData = new FormData(form);
        console.log('ğŸ“‹ å¯¦éš›è¡¨å–®è³‡æ–™:');
        for (let [key, value] of formData.entries()) {
            console.log(`  ${key}: ${key === 'Data' ? value.toString().substring(0, 50) + '...' : value}`);
        }
        
        // æ””æˆªè¡¨å–®æäº¤ï¼Œå…ˆæª¢æŸ¥è³‡æ–™
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('ğŸ” æäº¤å‰æœ€çµ‚æª¢æŸ¥:');
            const inputs = form.querySelectorAll('input[type="hidden"]');
            inputs.forEach(input => {
                console.log(`  ${input.name}: ${input.value.substring(0, 100)}${input.value.length > 100 ? '...' : ''}`);
            });
            
            // ç¢ºèªå¾Œæäº¤
            setTimeout(() => {
                console.log('ğŸš€ ç¢ºèªæäº¤è¡¨å–®åˆ° ECPay...');
                form.submit();
            }, 2000);
        });
        
        // 3ç§’å¾Œè‡ªå‹•è§¸ç™¼æäº¤æª¢æŸ¥
        setTimeout(function() {
            console.log('ğŸš€ æ­£åœ¨æäº¤è¡¨å–®åˆ° ECPay...');
            document.getElementById('ecpayForm').submit();
        }, 3000);
    </script>
</body>
</html>