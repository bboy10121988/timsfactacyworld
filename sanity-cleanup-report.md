# ğŸ—‘ï¸ Sanity CMS ç›®éŒ„æ¸…ç†å ±å‘Š - æœ€çµ‚ç¢ºèª

## ğŸ“… æ¸…ç†æ™‚é–“
**2025å¹´7æœˆ13æ—¥ - æœ€çµ‚æ¸…ç†**

## ğŸ¯ æ¸…ç†ç›®æ¨™
ç§»é™¤å·²æ£„ç”¨çš„ç¨ç«‹ `sanity_cms` ç›®éŒ„ï¼Œå› ç‚º Sanity CMS å·²æˆåŠŸæ•´åˆåˆ°å‰ç«¯å°ˆæ¡ˆä¸­ã€‚

## âœ… å·²å®Œæˆçš„æ¸…ç†

### 1. ç›®éŒ„åˆªé™¤
- **å·²åˆªé™¤**: `/Users/raychou/medusa_0525/sanity_cms/`
- **ç‹€æ…‹**: âœ… **å·²ç¢ºèªå®Œå…¨ç§»é™¤**
- **åŸå› **: æ‰€æœ‰åŠŸèƒ½å·²æ•´åˆåˆ°å‰ç«¯ `/cms` è·¯å¾‘

### 2. é…ç½®æ›´æ–°

#### æ ¹ç›®éŒ„ package.json ä¿®æ”¹ï¼š
- **Workspaces**: âœ… å·²ç§»é™¤ `"sanity_cms"`
- **Scripts**:
  - âœ… å·²ç§»é™¤ `"install:sanity"` 
  - âœ… å·²ç§»é™¤ `"dev:sanity"`
  - âœ… æ›´æ–° `"dev"` æŒ‡ä»¤ï¼Œä¸å†å•Ÿå‹•ç¨ç«‹ Sanity
  - âœ… ä¿ç•™ `"dev:integrated"` ä½œç‚ºä¸»è¦é–‹ç™¼æŒ‡ä»¤

### 3. é·ç§»ç¢ºèª
æ‰€æœ‰é‡è¦å…§å®¹å·²é·ç§»åˆ°å‰ç«¯ï¼š
- âœ… **é…ç½®æ–‡ä»¶**: `sanity.config.ts` â†’ `frontend/sanity.config.ts`
- âœ… **ç°¡åŒ–é…ç½®**: `frontend/sanity.config.simple.ts`
- âœ… **CLI é…ç½®**: `frontend/sanity.cli.ts`
- âœ… **Schemas**: `schemas/` â†’ `frontend/schemas/`
- âœ… **Webhook é…ç½®**: `src/config/webhook/` â†’ `frontend/src/config/webhook/`
- âœ… **ç’°å¢ƒè®Šæ•¸**: å·²æ•´åˆåˆ° `frontend/.env.local`
- âœ… **Studio è·¯ç”±**: `frontend/src/app/cms/[[...tool]]/page.tsx`

## ğŸš€ æ–°çš„å°ˆæ¡ˆçµæ§‹

```
medusa_0525/
â”œâ”€â”€ backend/                     # Medusa.js å¾Œç«¯ (port 9000)
â”œâ”€â”€ frontend/                    # Next.js å‰ç«¯ + æ•´åˆ CMS (port 8000)
â”‚   â”œâ”€â”€ src/app/cms/            # åµŒå…¥å¼ Sanity Studio
â”‚   â”œâ”€â”€ sanity.config.ts        # å®Œæ•´ CMS é…ç½®
â”‚   â”œâ”€â”€ sanity.config.simple.ts # ç°¡åŒ–ç‰ˆé…ç½®
â”‚   â””â”€â”€ schemas/                # å…§å®¹æ¶æ§‹
â””â”€â”€ package.json                # æ•´åˆé–‹ç™¼æŒ‡ä»¤
```

## ğŸ”§ æ›´æ–°å¾Œçš„é–‹ç™¼æŒ‡ä»¤

```bash
# å•Ÿå‹•æ•´åˆç’°å¢ƒï¼ˆæ¨è–¦ï¼‰
npm run dev
# æˆ–
npm run dev:integrated

# åˆ†åˆ¥å•Ÿå‹•
npm run dev:frontend    # å‰ç«¯ + CMS
npm run dev:backend     # å¾Œç«¯ API
```

## ğŸ“‹ å¯ç”¨æœå‹™

| æœå‹™ | URL | ç‹€æ…‹ |
|------|-----|------|
| å‰ç«¯ç¶²ç«™ | http://localhost:8000 | âœ… é‹è¡Œä¸­ |
| **Sanity Studio** | **http://localhost:8000/cms** | âœ… **æ•´åˆå®Œæˆ** |
| å¾Œç«¯ API | http://localhost:9000 | âœ… é‹è¡Œä¸­ |
| æ•´åˆæ¸¬è©¦ | http://localhost:8000/integration-test | âœ… å¯ç”¨ |

## ğŸ‰ æ¸…ç†æ•ˆæœ

### å„ªå‹¢ï¼š
1. **ç°¡åŒ–æ¶æ§‹**: ä¸å†éœ€è¦ç®¡ç†ç¨ç«‹çš„ Sanity æœå‹™å™¨
2. **çµ±ä¸€éƒ¨ç½²**: å‰ç«¯å’Œ CMS ä½¿ç”¨åŒä¸€å€‹ Next.js æ‡‰ç”¨
3. **æ¸›å°‘è¤‡é›œåº¦**: åªéœ€å•Ÿå‹•å…©å€‹æœå‹™ï¼ˆå‰ç«¯+å¾Œç«¯ï¼‰
4. **çµ±ä¸€åŸŸå**: æ‰€æœ‰åŠŸèƒ½éƒ½åœ¨ localhost:8000 ä¸‹

### ç¯€çœè³‡æºï¼š
- **ç«¯å£**: ä¸å†å ç”¨ 3333 ç«¯å£
- **é€²ç¨‹**: æ¸›å°‘ä¸€å€‹ç¨ç«‹çš„ Node.js é€²ç¨‹
- **è¨˜æ†¶é«”**: ç¯€çœ Sanity ç¨ç«‹æœå‹™å™¨çš„è¨˜æ†¶é«”ä½¿ç”¨

## ğŸ›¡ï¸ å®‰å…¨æ€§
- æ‰€æœ‰ CMS æ•¸æ“šå’Œé…ç½®éƒ½å·²å®‰å…¨é·ç§»
- ç„¡æ•¸æ“šä¸Ÿå¤±é¢¨éšª
- å‚™ä»½é…ç½®å·²ä¿ç•™åœ¨å‰ç«¯ç›®éŒ„ä¸­

---

## âœ¨ ç¸½çµ
Sanity CMS ç¨ç«‹ç›®éŒ„å·²æˆåŠŸæ¸…ç†ï¼Œæ•´åˆæ¶æ§‹æ›´åŠ ç°¡æ½”é«˜æ•ˆã€‚ç¾åœ¨åªéœ€è¦å•Ÿå‹•å‰ç«¯å’Œå¾Œç«¯å…©å€‹æœå‹™ï¼ŒCMS åŠŸèƒ½å®Œå…¨å¯é€šé `/cms` è·¯å¾‘è¨ªå•ã€‚

**æ¸…ç†å®Œæˆï¼å°ˆæ¡ˆçµæ§‹å·²å„ªåŒ–ï¼** ğŸš€
